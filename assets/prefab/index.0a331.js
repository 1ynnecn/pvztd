window.__require=function t(e,n,o){function r(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)r(o[c]);return r}({AdLayer:[function(t,e,n){"use strict";cc._RF.push(e,"73543ezbFJOm7NG/VtG9woV","AdLayer");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),n.EADLAYER=n.max_drop_plant=n.max_auto_double_att=n.max_auto_double_income=n.max_auto_com=void 0;var c,a=t("../../script/framwork/BaseUI"),s=t("../../script/framwork/MsgHints"),u=t("../../script/utils/AudioMgr"),l=t("../../script/utils/Utils"),p=t("../../script/manager/Data"),f=cc._decorator,d=f.ccclass;f.property,function(t){t[t.DOUBLE_ATT=0]="DOUBLE_ATT",t[t.DOUBLE_INCOME=1]="DOUBLE_INCOME",t[t.AUTO_COM=2]="AUTO_COM",t[t.DROP_PLANT=3]="DROP_PLANT"}(c||(c={})),n.EADLAYER=c,n.max_auto_com=10,n.max_auto_double_income=60,n.max_auto_double_att=6,n.max_drop_plant=60;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(){var t=0,e=0;if(this.type==c.AUTO_COM?(t=p.default.user.auto_com_time,e=n.max_auto_com):this.type==c.DOUBLE_ATT?(t=p.default.user.double_att_time,e=n.max_auto_double_att):this.type==c.DOUBLE_INCOME?(t=p.default.user.double_income_time,e=n.max_auto_double_income):this.type==c.DROP_PLANT&&(t=p.default.user.drop_plant_time,e=n.max_drop_plant),t>l.default.getServerTime()){var o=t-l.default.getServerTime();this.SetProgressBar("New ProgressBar",o/1e3/60/e),this.SetText("lbl_time",l.default.getTimeStrByS(o/1e3))}else this.SetProgressBar("New ProgressBar",0),this.SetText("lbl_time","")},e.prototype.setType=function(t){this.type=t,this.GetGameObject("icon_fast").active=t==c.DROP_PLANT,this.GetGameObject("icon_auto_merge").active=t==c.AUTO_COM,this.GetGameObject("icon_income").active=t==c.DOUBLE_INCOME,this.GetGameObject("icon_angre").active=t==c.DOUBLE_ATT,this.type==c.AUTO_COM?this.SetText("lbl_effect","\u589e\u52a02\u5206\u949f\u81ea\u52a8\u5408\u6210\u65f6\u95f4"):this.type==c.DOUBLE_ATT?this.SetText("lbl_effect","\u589e\u52a01\u5206\u949f\u6301\u7eed\u65f6\u95f4"):this.type==c.DOUBLE_INCOME?this.SetText("lbl_effect","\u589e\u52a010\u5206\u949f\u53cc\u500d\u6536\u76ca\u65f6\u95f4"):this.type==c.DROP_PLANT&&this.SetText("lbl_effect","\u589e\u52a010\u5206\u949f\u690d\u7269\u5feb\u901f\u6389\u843d\u65f6\u95f4")},e.prototype.addvalue=function(t){if(void 0===t&&(t=0),this.type==c.AUTO_COM){if(p.default.user.auto_com_time-l.default.getServerTime()>6e4*(n.max_auto_com-2))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_auto_com+"\u5206\u949f")}else if(this.type==c.DOUBLE_ATT){if(p.default.user.double_att_time-l.default.getServerTime()>6e4*(n.max_auto_double_att-1))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_auto_double_att+"\u5206\u949f")}else if(this.type==c.DOUBLE_INCOME){if(p.default.user.double_income_time-l.default.getServerTime()>6e4*(n.max_auto_double_income-10))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_auto_double_income+"\u5206\u949f")}else if(this.type==c.DROP_PLANT&&p.default.user.drop_plant_time-l.default.getServerTime()>6e4*(n.max_drop_plant-10))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_drop_plant+"\u5206\u949f");if(t>0){if(t>p.default.user.gem)return void s.default.show("\u94bb\u77f3\u4e0d\u8db3");p.default.user.gem-=t}if(this.type==c.AUTO_COM){if(p.default.user.auto_com_time-l.default.getServerTime()>6e4*(n.max_auto_com-2))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_auto_com+"\u5206\u949f");p.default.user.auto_com_time<l.default.getServerTime()&&(p.default.user.auto_com_time=l.default.getServerTime()),p.default.user.auto_com_time+=12e4}else if(this.type==c.DOUBLE_ATT){if(p.default.user.double_att_time-l.default.getServerTime()>6e4*(n.max_auto_double_att-1))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_auto_double_att+"\u5206\u949f");p.default.user.double_att_time<l.default.getServerTime()&&(p.default.user.double_att_time=l.default.getServerTime()),p.default.user.double_att_time+=6e4}else if(this.type==c.DOUBLE_INCOME){if(p.default.user.double_income_time-l.default.getServerTime()>6e4*(n.max_auto_double_income-10))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_auto_double_income+"\u5206\u949f");p.default.user.double_income_time<l.default.getServerTime()&&(p.default.user.double_income_time=l.default.getServerTime()),p.default.user.double_income_time+=6e5}else if(this.type==c.DROP_PLANT){if(p.default.user.drop_plant_time-l.default.getServerTime()>6e4*(n.max_drop_plant-10))return void s.default.show("\u6700\u5927\u7d2f\u79ef\u65f6\u95f4"+n.max_drop_plant+"\u5206\u949f");p.default.user.drop_plant_time<l.default.getServerTime()&&(p.default.user.drop_plant_time=l.default.getServerTime()),p.default.user.drop_plant_time+=6e5}p.default.save()},e.prototype.onBtnClicked=function(t){var e=t.target.name;switch(u.default.Instance().playSFX("click"),e){case"btn_close":this.closeUI();break;case"btn_ad":s.default.show("\u656c\u8bf7\u671f\u5f85");break;case"btn_gem":var n=0;this.type==c.AUTO_COM?n=4:this.type==c.DOUBLE_ATT?n=4:this.type==c.DOUBLE_INCOME?n=4:this.type==c.DROP_PLANT&&(n=4),this.addvalue(n)}},i([d],e)}(a.default);n.default=h,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/framwork/MsgHints":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}],BossCommingUI:[function(t,e,n){"use strict";cc._RF.push(e,"d79a1IGYc5Ds7RQV9hCY0sd","BossCommingUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/utils/AudioMgr"),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this;a.default.Instance().playSFX("Arlam"),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.closeUI()})))},i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/utils/AudioMgr":void 0}],Bullet:[function(t,e,n){"use strict";cc._RF.push(e,"7b304r11c5BdrPI27Yo4iN5","Bullet");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../script/framwork/BaseUI"),u=t("../../script/utils/Utils"),l=t("../../script/game/DB"),p=t("./Enemy"),f=cc._decorator,d=f.ccclass,h=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.sped=700,e.plantlv=0,e}return r(e,t),e.prototype.start=function(){this.GetGameObject("trail2").opacity=0,this.GetGameObject("trail2").runAction(cc.fadeTo(.4,255)),this.node.scale=1.2},e.prototype.update=function(t){if(this.target){var e=this.target.position.add(cc.v3(0,80,0)).sub(this.node.position);if(e.mag()<this.sped*t*2)return this.target.getComponent(p.default).hit(this.plantlv),this.node.destroy(),void this.node.removeFromParent(!0);var n=e.normalize().mul(this.sped*t);this.node.position=this.node.position.add(n),this.node.angle=180-180*cc.v2(e.x,e.y).signAngle(cc.v2(1,0))/Math.PI}else this.node.removeFromParent(!0)},e.prototype.setInfo=function(t,e){return c(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return e=Math.min(e,l.MAX_PLANT),this.plantlv=e,this.target=t,l.DB_plant[e-1],n=this.GetSprite("sp"),[4,u.default.loadRes("texture/bullets/"+(e-1),cc.SpriteFrame)];case 1:return n.spriteFrame=o.sent(),this.GetGameObject("trail2").color=cc.Color.RED.fromHEX(String(l.DB_plant[e-1][9])),this.GetGameObject("trail2").height=this.GetGameObject("sp").height,[2]}})})},i([d],e)}(s.default));n.default=h,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/game/DB":void 0,"../../script/utils/Utils":void 0,"./Enemy":"Enemy"}],Enemy:[function(t,e,n){"use strict";cc._RF.push(e,"7abb6Nw6whC5Ira83PINgLj","Enemy");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../script/framwork/BaseUI"),u=t("../../script/game/HallScene"),l=t("../../script/game/DB"),p=t("../../script/utils/Utils"),f=t("../../script/manager/Data"),d=t("../../script/utils/AudioMgr"),h=cc._decorator,_=h.ccclass,m=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getcoin_pre=null,e.maxhp=0,e.hp=0,e.money=0,e.type=0,e.bfrozen=!1,e.pathindex=1,e.sped=1,e.base_speed=50,e.redendtime=0,e.purpleendtime=0,e}return r(e,t),e.prototype.getBossMoney=function(){return 2==this.type?(f.default.user.double_income_time>p.default.getServerTime()&&(this.money*=2),(this.maxhp-this.hp)/this.maxhp*this.money):0},e.prototype.setID=function(t,e){return c(this,void 0,void 0,function(){var n,o;return a(this,function(r){switch(r.label){case 0:return this.type=e?1:0,n=l.DB_zombie[t+""],t>100&&(t-=100,this.type=2),t>52&&(t=p.default.getRandomInt(1,52)),this.sped=n[2]*this.base_speed,this.maxhp=n[1],this.hp=this.maxhp,this.money=Math.floor(n[3]*p.default.getRandom(.8,1.2)),this.node.position=u.default.Instance.path[0],this.node.scale=0==this.type?.8:1.1,this.GetGameObject("sp").scaleX=.5,25==t?d.default.Instance().playSFX("dog"):13==t?d.default.Instance().playSFX("pig"):d.default.Instance().playSFX(p.default.getRandom(0,1)<.6?"zb1":"zb2"),o=this.GetSkeleton("sp"),[4,p.default.loadRes("spine/enemy"+t,sp.SkeletonData)];case 1:return o.skeletonData=r.sent(),this.GetSkeleton("sp").setAnimation(0,"run",!0),this.GetGameObject("New ProgressBar").opacity=0,[2]}})})},e.prototype.hit=function(t){var e=this;if(!(this.hp<=0)){var n=l.DB_plant[t-1],o=String(n[3]).split("|"),r=Number(o[0]),i=Number(o[1]),c=Number(n[2]),a=!1;if(p.default.getRandom(0,100)<i&&(1==r?this.slowdown():2==r?(c*=2,a=!0):3==r&&this.frozen()),this.hp-=c,this.hp=Math.max(this.hp,0),this.SetProgressBar("New ProgressBar",this.hp/this.maxhp),this.GetGameObject("New ProgressBar").stopAllActions(),this.GetGameObject("New ProgressBar").opacity=255,this.GetGameObject("New ProgressBar").runAction(cc.sequence(cc.delayTime(1),cc.fadeTo(.2,0))),a?this.showWLBaoji(c,p.default.getRandom(0,1)>.5):this.showFSHurt(c,p.default.getRandom(0,1)>.5),this.hp<=0){if(u.default.Instance.removeenemy(this.node,!1),this.GetGameObject("sp").runAction(cc.sequence(cc.delayTime(.5),cc.fadeTo(.2,0),cc.callFunc(function(){e.node.removeFromParent(!0)}))),f.default.user.double_income_time>p.default.getServerTime()&&(this.money*=2),2!=this.type){var s=cc.instantiate(this.getcoin_pre);s.parent=this.node.parent,s.getChildByName("lbl_add_coin").getComponent(cc.Label).string=p.default.formatNumber(this.money),s.position=this.node.position.add(cc.v3(0,50,0)),s.zIndex=1e3,s.scale=.5,f.default.user.coin+=this.money,s.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,1.3),cc.moveBy(.2,0,80)),cc.delayTime(.8),cc.spawn(cc.moveBy(.5,50),cc.fadeTo(.5,50)),cc.removeSelf()))}this.playSkAni("spine/other/zhuoshao","effect",this.node,cc.v3(0,75,0),1).then(function(t){t.scale=2})}else this.playSkAni("spine/other/jizhong","animation",this.node,cc.v3(0,75,0),1),this.redendtime=p.default.getServerTime()+300;d.default.Instance().playSFX("hit")}},e.prototype.slowdown=function(){var t=this;d.default.Instance().playSFX("skill_slow"),this.GetSkeleton("sp").timeScale=.5,this.GetGameObject("jiansu").active=!0,this.GetGameObject("sp").stopAllActions(),this.GetGameObject("sp").runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.GetGameObject("sp").color=cc.Color.WHITE,t.GetSkeleton("sp").timeScale=1,t.GetGameObject("jiansu").active=!1})))},e.prototype.frozen=function(){var t=this;d.default.Instance().playSFX("skill_freeze"),this.bfrozen=!0,this.GetGameObject("fx_stun").stopAllActions(),this.GetGameObject("fx_stun").active=!0,this.purpleendtime=p.default.getServerTime()+1e3,this.GetSkeleton("sp").paused=!0,this.GetGameObject("fx_stun").runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.GetGameObject("fx_stun").active=!1,t.GetSkeleton("sp").paused=!1,t.bfrozen=!1})))},e.prototype.update=function(t){if(this.redendtime>p.default.getServerTime()?this.GetGameObject("sp").color=cc.Color.RED.fromHEX("#7C82DE"):this.purpleendtime>p.default.getServerTime()?this.GetGameObject("sp").color=cc.Color.RED.fromHEX("#ED7373"):this.GetGameObject("sp").color=cc.Color.WHITE,!this.bfrozen&&u.default.Instance.path[this.pathindex]){var e=u.default.Instance.path[this.pathindex].sub(this.node.position);if(e.mag()<this.sped*t)this.node.position=u.default.Instance.path[this.pathindex],this.pathindex++,3==this.pathindex&&(this.GetGameObject("sp").scaleX=-.5),this.pathindex>=u.default.Instance.path.length&&(console.log("\u9003\u8fc7"),u.default.Instance.removeenemy(this.node,!0),this.node.removeFromParent(!0));else{var n=e.normalize().mul(this.sped*t);this.node.position=this.node.position.add(n)}}},e.prototype.showFSHurt=function(t,e){void 0===e&&(e=!1);var n,o=cc.instantiate(this.GetGameObject("fs_hurt"));o.parent=this.node,e&&(o.x*=-1),o.getComponent(cc.Label).string=p.default.formatCoin(t),o.active=!0,n=e?[cc.v2(-10,50),cc.v2(-40,60),cc.v2(-60,20)]:[cc.v2(10,50),cc.v2(40,60),cc.v2(60,20)];var r=cc.bezierBy(1,n);o.runAction(cc.sequence(cc.spawn(cc.scaleTo(1,.6),r),cc.removeSelf()))},e.prototype.showWLBaoji=function(t,e){void 0===e&&(e=!1),d.default.Instance().playSFX("skill_crit");var n,o,r=cc.instantiate(this.GetGameObject("wl_baoji"));r.parent=this.node,e&&(r.x*=-1),r.getComponent(cc.Label).string=p.default.formatCoin(t),r.active=!0,r.scale=.2,e?(n=[cc.v2(-5,20),cc.v2(-8,30),cc.v2(-10,30)],o=[cc.v2(-5,-20),cc.v2(-8,-30),cc.v2(-10,-30)]):(n=[cc.v2(5,20),cc.v2(8,30),cc.v2(10,30)],o=[cc.v2(5,-20),cc.v2(8,-30),cc.v2(10,-30)]);var i=cc.bezierBy(.2,n),c=cc.bezierBy(.5,o);r.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,1),i),cc.delayTime(.5),cc.spawn(cc.scaleTo(.5,.2),c,cc.fadeOut(.5)),cc.removeSelf()))},i([m(cc.Prefab)],e.prototype,"getcoin_pre",void 0),i([_],e)}(s.default);n.default=y,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/game/DB":void 0,"../../script/game/HallScene":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}],FairyBonusUI:[function(t,e,n){"use strict";cc._RF.push(e,"f1d79P4wcFK9KwHCsJWJWld","FairyBonusUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/game/DB"),s=t("../../script/manager/Data"),u=t("../../script/framwork/MsgHints"),l=t("../../script/utils/AudioMgr"),p=cc._decorator,f=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.superPot=[],e}return r(e,t),e.prototype.start=function(){for(var t=s.default.user.GetMaxLv(),e=a.DB_droneRewards[t+""][1],n=0;n<4;n++)this.superPot.push(e)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this)},e.prototype.onBtnClicked=function(t){var e=t.target.name;switch(l.default.Instance().playSFX("click"),e){case"btn_close":this.closeUI();break;case"btn_ad":u.default.show("\u656c\u8bf7\u671f\u5f85");break;case"btn_gem":if(s.default.user.gem<3)return void u.default.show("\u94bb\u77f3\u4e0d\u8db3");s.default.user.gem-=3,s.default.user.DropGiftPts=s.default.user.DropGiftPts.concat(this.superPot),this.closeUI()}},i([f],e)}(c.default));n.default=d,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/framwork/MsgHints":void 0,"../../script/game/DB":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0}],FairyItem:[function(t,e,n){"use strict";cc._RF.push(e,"fd0779orjRI8rleyDsPRVW2","FairyItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/utils/AudioMgr"),s=t("../../script/utils/Utils"),u=cc._decorator,l=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(10),cc.callFunc(function(){t.ChuXian()})))},e.prototype.ChuXian=function(){var t=this;this.node.runAction(cc.sequence(cc.callFunc(function(){t.node.position=cc.v3(-cc.winSize.width/2-200,cc.winSize.height/4-100)}),cc.moveTo(20,cc.winSize.width/2+200,cc.winSize.height/4-100)).repeatForever())},e.prototype.onBtnClicked=function(t){var e=this,n=t.target.name;switch(a.default.Instance().playSFX("click"),n){case"FairyItem":this.node.stopAllActions(),this.node.position=cc.v3(-cc.winSize.width/2-200,cc.winSize.height/4-100),this.node.runAction(cc.sequence(cc.delayTime(40),cc.callFunc(function(){e.ChuXian()}))),s.default.createUI("prefab/FairyBonusUI")}},i([l],e)}(c.default));n.default=p,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}],LoseUI:[function(t,e,n){"use strict";cc._RF.push(e,"824b0PiTCRL9oHjDzaJijvV","LoseUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/utils/Utils"),s=t("../../script/manager/Data"),u=t("../../script/utils/AudioMgr"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=0,e}return r(e,t),e.prototype.start=function(){var t=this;this.GetGameObject("lbl_coin").opacity=0,this.GetGameObject("lbl_coin").runAction(cc.sequence(cc.delayTime(.5),cc.fadeTo(1,255))),this.GetGameObject("btn_get").active=!1,u.default.Instance().playSFX("fail");var e=5;this.node.runAction(cc.sequence(cc.callFunc(function(){console.log("---",e,a.default.getTimeStrByS(e)),t.GetGameObject("btn_get").active=e<=4,t.SetText("lbl_time",a.default.getTimeStrByS(e)),e<0&&t.closeUI(),e--}),cc.delayTime(1)).repeat(7))},e.prototype.setInfo=function(t){this.coin=t,this.SetText("lbl_coin",a.default.formatNumber(t))},e.prototype.closeUI=function(){var t=this.coin;u.default.Instance().playSFX("coin"),a.default.flyAnim(0,this.node,"icon_coin",a.default.getRandomInt(5,10),100,function(e){e&&(s.default.user.coin+=t)}),this.shutAnim()},e.prototype.onBtnClicked=function(t){var e=t.target.name;switch(u.default.Instance().playSFX("click"),e){case"btn_get":this.closeUI()}},i([p],e)}(c.default));n.default=f,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}],NewPlantUI:[function(t,e,n){"use strict";cc._RF.push(e,"46e3e5iTx5BT7fDRmzqw2qW","NewPlantUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../script/framwork/BaseUI"),u=t("../../script/manager/Data"),l=t("../../script/game/DB"),p=t("../../script/utils/Utils"),f=t("../../script/utils/AudioMgr"),d=cc._decorator,h=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=0,e.gem=0,e}return r(e,t),e.prototype.start=function(){return c(this,void 0,void 0,function(){var t,e,n,o;return a(this,function(r){switch(r.label){case 0:return t=u.default.user.GetMaxLv(),e=u.default.user.BuyPrice(Math.max(1,t-3)),n=l.DB_levelupGem[t+""],this.GetGameObject("node_gem").active=n,this.SetText("lbl_lv","\u7b49\u7ea7"+t),f.default.Instance().playSFX("unlock_plant"),this.coin=e,n&&(this.gem=n[1],this.SetText("lbl_gem",this.gem+"")),this.SetText("lbl_coin",p.default.formatNumber(e)),o=this.GetSkeleton("flower1"),[4,p.default.loadRes("spine/flower"+t,sp.SkeletonData)];case 1:return o.skeletonData=r.sent(),this.GetSkeleton("flower1").setAnimation(0,"idleL",!0),[2]}})})},e.prototype.onBtnClicked=function(t){var e=t.target.name;switch(f.default.Instance().playSFX("click"),e){case"btn_get":var n=this.coin,o=this.gem;f.default.Instance().playSFX("coin"),p.default.flyAnim(0,this.node,"icon_coin",p.default.getRandomInt(5,10),100,function(t){t&&(u.default.user.coin+=n)}),o>0&&(f.default.Instance().playSFX("gem"),p.default.flyAnim(1,this.node,"icon_gem",p.default.getRandomInt(2,4),85,function(t){t&&(u.default.user.gem+=o)})),this.closeUI()}},i([h],e)}(s.default));n.default=_,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/game/DB":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}],OfflineAwardUI:[function(t,e,n){"use strict";cc._RF.push(e,"47509lvN65A3YtUxhS8R3fU","OfflineAwardUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/utils/AudioMgr"),s=t("../../script/utils/BigNumber"),u=t("../../script/utils/Utils"),l=t("../../script/manager/Data"),p=t("../../script/framwork/MsgHints"),f=cc._decorator,d=f.ccclass,h=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._data=0,e}return r(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.GetText("lbl_coin").string=s.default.getLargeString(u.default.fixFloat(t))},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.node.zIndex=99999},e.prototype.onBtnClicked=function(t){switch(t.target.name){case"btn_close":a.default.Instance().playSFX("click");var e=this._data;a.default.Instance().playSFX("coin"),u.default.flyAnim(0,this.node,"icon_coin",u.default.getRandomInt(5,10),100,function(t){t&&(l.default.user.coin+=e)}),this.closeUI();break;case"btn_ad":p.default.show("\u656c\u8bf7\u671f\u5f85");break;case"btn_gem":if(l.default.user.gem<5)return void p.default.show("\u94bb\u77f3\u4e0d\u8db3");var n=3*this._data;a.default.Instance().playSFX("coin"),u.default.flyAnim(0,this.node,"icon_coin",u.default.getRandomInt(5,10),100,function(t){t&&(l.default.user.coin+=n,l.default.user.gem-=5)}),this.closeUI()}},i([d],e)}(c.default));n.default=h,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/framwork/MsgHints":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/BigNumber":void 0,"../../script/utils/Utils":void 0}],SettingUI:[function(t,e,n){"use strict";cc._RF.push(e,"a80eb23B/dO9568DxP6flX0","SettingUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../script/framwork/BaseUI"),u=t("../../script/utils/AudioMgr"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_music=null,e.btn_music_close=null,e.btn_sound=null,e.btn_sound_close=null,e}return r(e,t),e.prototype.start=function(){return c(this,void 0,void 0,function(){return a(this,function(){return u.default.Instance().playSFX("ui_open_popup_1"),this.btn_music=this.GetGameObject("btn_music_on"),this.btn_music_close=this.GetGameObject("btn_music_off"),this.btn_sound=this.GetGameObject("btn_sound_on"),this.btn_sound_close=this.GetGameObject("btn_sound_off"),this.btn_music.active=1==u.default.Instance().bgmVolume,this.btn_music_close.active=0==u.default.Instance().bgmVolume,this.btn_sound.active=1==u.default.Instance().sfxVolume,this.btn_sound_close.active=0==u.default.Instance().sfxVolume,[2]})})},e.prototype.onBtnClicked=function(t){var e=t.target.name;switch(u.default.Instance().playSFX("click"),e){case"btn_back":this.closeUI();break;case"btn_music_on":case"btn_music_off":this.btn_music.active=!this.btn_music.active,this.btn_music_close.active=!this.btn_music_close.active,u.default.Instance().setBGMVolume(this.btn_music.active?1:0,!0);break;case"btn_sound_on":case"btn_sound_off":this.btn_sound.active=!this.btn_sound.active,this.btn_sound_close.active=!this.btn_sound_close.active,u.default.Instance().setSFXVolume(this.btn_sound.active?1:0,!0)}},i([p],e)}(s.default));n.default=f,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/utils/AudioMgr":void 0}],ShopItem:[function(t,e,n){"use strict";cc._RF.push(e,"e6b02e+8pRDZ6todV8KUlNR","ShopItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s,u=t("../../script/framwork/BaseUI"),l=t("../../script/utils/AudioMgr"),p=t("../../script/manager/Data"),f=t("../../script/utils/Utils"),d=t("../../script/framwork/MsgHints"),h=t("../../script/game/HallScene"),_=t("../../script/game/GameConst"),m=t("../../script/framwork/ListItem"),y=t("../../script/game/DB"),b=cc._decorator,v=b.ccclass;b.property,function(t){t[t.CAN_BUY=1]="CAN_BUY",t[t.CAN_AD_BUY=2]="CAN_AD_BUY",t[t.ONLY_CHECK=4]="ONLY_CHECK",t[t.GEM_BUY=16]="GEM_BUY"}(s||(s={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cost_coin=0,e.cost_gem=0,e.gun=null,e}return r(e,t),e.prototype.WatchAdBuy=function(t){var e=p.default.user.GetMaxLv();return!(e<8)&&e-4==t},e.prototype.OnlyCheck=function(t){var e=p.default.user.GetMaxLv();return e-2<=t&&t<=e},e.prototype.BuyGem=function(t){return p.default.user.GetMaxLv()-1==t},e.prototype.getBuyType=function(t){var e=p.default.user.GetMaxLv(),n=0;return t[0]<=e-2&&(n|=s.CAN_BUY),this.WatchAdBuy(t[0])&&(n|=s.CAN_AD_BUY),this.BuyGem(t[0])&&(n|=s.GEM_BUY),this.OnlyCheck(t[0])&&(n|=s.ONLY_CHECK),n},e.prototype.setItemData=function(t){return c(this,void 0,void 0,function(){var e,n,o,r,i,c,u,l,d,h,_;return a(this,function(a){switch(a.label){case 0:return e=null,n=!1,o=this.getBuyType(t),this.gun=t,this.GetGameObject("show").active=!1,this.GetGameObject("hide").active=!1,this.GetGameObject("btn_gem").active=!1,this.GetGameObject("btn_yellow").active=!1,this.GetGameObject("btn_free").active=!1,this.GetGameObject("btn_gray").active=!1,this.cost_gem=Math.min(t[6],5),0!=(o&s.GEM_BUY)&&t[6]>0?(this.GetGameObject("show").active=!0,this.GetGameObject("btn_gem").active=!0,e=this.GetGameObject("show")):0!=(o&s.CAN_AD_BUY)?(this.GetGameObject("show").active=!0,this.GetGameObject("btn_free").active=!0,e=this.GetGameObject("show")):0!=(o&s.CAN_BUY)?(this.GetGameObject("show").active=!0,this.GetGameObject("btn_yellow").active=!0,e=this.GetGameObject("show")):0!=(o&s.ONLY_CHECK)?(this.GetGameObject("show").active=!0,this.GetGameObject("btn_gray").active=!0,e=this.GetGameObject("show")):(this.GetGameObject("hide").active=!0,e=this.GetGameObject("hide"),n=!0),this._findInChildren(e,"lbl_lv").getComponent(cc.Label).string=""+t[0],this._findInChildren(e,"New Label").getComponent(cc.Label).string=""+(t[0]+2),r=t[3].split("|"),i=r[0],c=r[1],u="",n&&(c="?"),1==i?u="\u6280\u80fd:"+c+"%\u7684\u51e0\u7387\u89e6\u53d1\u51cf\u901f\u76ee\u68071\u79d2":2==i?u="\u6280\u80fd:"+c+"%\u51e0\u7387\u5bf9\u76ee\u6807\u9020\u6210\u53cc\u500d\u4f24\u5bb3":3==i&&(u="\u6280\u80fd:"+c+"%\u51e0\u7387\u51b0\u51bb\u76ee\u68071\u79d2"),this._findInChildren(e,"lbl_name").getComponent(cc.Label).string=u,this._findInChildren(e,"lbl_cd").getComponent(cc.Label).string=n?"?":t[1]+"",this._findInChildren(e,"lbl_power").getComponent(cc.Label).string=n?"?":f.default.formatNumber(t[2])+"",l=this._findInChildren(e,"gun").getComponent(cc.Sprite),[4,f.default.loadRes("texture/plants/"+(t[0]-1),cc.SpriteFrame)];case 1:return l.spriteFrame=a.sent(),d=this._findInChildren(e,"gun").getComponent(cc.Sprite),[4,f.default.loadRes("texture/plants/"+(t[0]-1),cc.SpriteFrame)];case 2:return d.spriteFrame=a.sent(),t[0]+1<y.MAX_PLANT?(h=this._findInChildren(e,"0").getComponent(cc.Sprite),[4,f.default.loadRes("texture/plants/"+(t[0]+1),cc.SpriteFrame)]):[3,4];case 3:return h.spriteFrame=a.sent(),[3,6];case 4:return _=this._findInChildren(e,"0").getComponent(cc.Sprite),[4,f.default.loadRes("texture/plants/"+(y.MAX_PLANT-1),cc.SpriteFrame)];case 5:_.spriteFrame=a.sent(),a.label=6;case 6:return this.cost_coin=p.default.user.BuyPrice(t[0]),this.SetText("lbl_buy_coin",f.default.formatNumber(this.cost_coin)),this.GetButton("btn_yellow").interactable=p.default.user.coin>=this.cost_coin,this.SetText("lbl_buy_gem",f.default.formatNumber(this.cost_gem)),[2]}})})},e.prototype.onBtnClicked=function(e,n){t.prototype.onBtnClicked.call(this,e,n);var o=e.target.name;switch(l.default.Instance().playSFX("click"),o){case"btn_free":d.default.show("\u656c\u8bf7\u671f\u5f85");break;case"btn_yellow":if(p.default.user.coin<this.cost_coin)return void d.default.show("\u91d1\u5e01\u4e0d\u8db3");h.default.Instance.tryBuyPlant(this.gun[0],0)&&(d.default.show("\u8d2d\u4e70\u6210\u529f"),this.dispatch(_.default.BUY_PLANT,this.gun,this.node.getComponent(m.default).listId));break;case"btn_gem":if(p.default.user.gem<this.cost_gem)return void d.default.show("\u94bb\u77f3\u4e0d\u8db3");h.default.Instance.tryBuyPlant(this.gun[0],1)&&(d.default.show("\u8d2d\u4e70\u6210\u529f"),this.dispatch(_.default.BUY_PLANT,this.gun,this.node.getComponent(m.default).listId))}},i([v],e)}(u.default);n.default=g,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/framwork/ListItem":void 0,"../../script/framwork/MsgHints":void 0,"../../script/game/DB":void 0,"../../script/game/GameConst":void 0,"../../script/game/HallScene":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}],ShopLayer:[function(t,e,n){"use strict";cc._RF.push(e,"97852ZxHcBIu6WWaQlOhdZh","ShopLayer");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/framwork/List"),s=t("./ShopItem"),u=t("../../script/game/DB"),l=t("../../script/game/GameConst"),p=t("../../script/manager/Data"),f=t("../../script/utils/Utils"),d=t("../../script/utils/AudioMgr"),h=cc._decorator,_=h.ccclass,m=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e}var n;return r(e,t),n=e,e.show=function(){n._instance?(n._instance.active=!0,n._instance.getComponent(n).reLoad()):f.default.createUI("prefab/ShopLayer")},e.prototype.start=function(){var t=this;n._instance=this.node,this.list=u.DB_plant,this.reLoad(),this.rigester(l.default.BUY_PLANT,function(e,n){t.GetGameObject("ScrollView").getComponent(a.default).updateAppointed(n)}),this.rigester(l.default.NEW_PLANT,function(){t.reLoad()})},e.prototype.reLoad=function(){this.list=u.DB_plant,this.GetGameObject("ScrollView").getComponent(a.default).numItems=this.list.length;var t=Math.max(0,p.default.user.GetMaxLv()-5);this.GetGameObject("ScrollView").getComponent(a.default).scrollTo(t,.2)},e.prototype.onBtnClicked=function(){d.default.Instance().playSFX("click"),this.node.active=!1},e.prototype.onListRender=function(t,e){t.getComponent(s.default).setItemData(this.list[e])},e._instance=null,n=i([_],e)}(c.default));n.default=m,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/framwork/List":void 0,"../../script/game/DB":void 0,"../../script/game/GameConst":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0,"./ShopItem":"ShopItem"}],VictoryUI:[function(t,e,n){"use strict";cc._RF.push(e,"bdcb9Wp8YxFErWZb5qYmaOU","VictoryUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../script/framwork/BaseUI"),a=t("../../script/manager/Data"),s=t("../../script/utils/AudioMgr"),u=t("../../script/utils/Utils"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=0,e}return r(e,t),e.prototype.start=function(){var t=this;s.default.Instance().playSFX("win_stage"),this.GetSkeleton("fx_victory").setAnimation(0,"start",!1),this.GetSkeleton("fx_victory").setAnimation(1,"idle",!0),this.GetGameObject("btn_get").active=!1;var e=5;this.node.runAction(cc.sequence(cc.callFunc(function(){console.log("---",e,u.default.getTimeStrByS(e)),t.SetText("lbl_time",u.default.getTimeStrByS(e)),t.GetGameObject("btn_get").active=e<=4,e<0&&t.closeUI(),e--}),cc.delayTime(1)).repeat(7))},e.prototype.setInfo=function(t){this.coin=t,this.SetText("lbl_coin",u.default.formatNumber(t))},e.prototype.closeUI=function(){var t=this.coin;s.default.Instance().playSFX("coin"),u.default.flyAnim(0,this.node,"icon_coin",u.default.getRandomInt(5,10),100,function(e){e&&(a.default.user.coin+=t)}),this.shutAnim()},e.prototype.onBtnClicked=function(t){var e=t.target.name;switch(s.default.Instance().playSFX("click"),e){case"btn_get":this.closeUI()}},i([p],e)}(c.default));n.default=f,cc._RF.pop()},{"../../script/framwork/BaseUI":void 0,"../../script/manager/Data":void 0,"../../script/utils/AudioMgr":void 0,"../../script/utils/Utils":void 0}]},{},["AdLayer","BossCommingUI","Bullet","Enemy","FairyBonusUI","FairyItem","LoseUI","NewPlantUI","OfflineAwardUI","SettingUI","ShopItem","ShopLayer","VictoryUI"]);